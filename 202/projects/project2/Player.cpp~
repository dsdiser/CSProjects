#include "Player.h"

Player::Player()
{
  vector<Card> hand;
  m_hand = hand;
  m_name = "Error";
  m_lost = false;
  m_extraTurn = false;
}

Player::Player(string name)
{
  vector<Card> hand;
  m_hand = hand;
  m_name = name;
  m_lost = false;
  m_extraTurn = false;
}

Card Player::PlayCard(int cardNum)
{
  Card playCard = m_hand.at(cardNum);
  m_hand.erase(m_hand.begin() + (cardNum));
  return playCard;
}

Card Player::LoseCard(int cardNum)
{
  Card lostCard = m_hand.at(cardNum);
  m_hand.erase(m_hand.begin() + cardNum);
  return lostCard;
}

bool Player::HasCards()
{
  if(static_cast<int>(m_hand.size()) == 0)
    return false;
  return true;
}

bool Player::HasLost()
{
  return m_lost;
}

bool Player::HasExtraTurn()
{
  return m_extraTurn;
}

int Player::AddToHand(Card newCard)
{
  m_hand.push_back(newCard);
  //If the card is an exploding kitten, return 0. Otherwise, return 1
  if(newCard.GetType() == 0)
    {
      cout << "You drew an exploding kitten: " << newCard.ToString() 
	   << endl;
      return 0;
    }
  return 1;
}

string Player::GetName()
{
  return m_name;
}

void Player::DisplayHand()
{
  for(int i = 0; i < static_cast<int>(m_hand.size()); i++)
    cout << i << " - " << m_hand.at(i).ToString() << endl;
}

int Player::GetNumberOfCards()
{
  return static_cast<int>(m_hand.size());
}

Card Player::ReturnBomb()
{
  Card bomb;
  for(int i = 0; i < static_cast<int>(m_hand.size()); i++)
    {
      if(m_hand.at(i).GetType()==0)
	bomb = m_hand.at(i);
    }
  return bomb;
}

Card Player::ReturnDefuse()
{
  Card defuse;
  for(int i = 0; i < static_cast<int>(m_hand.size()); i++)
    {
      if(m_hand.at(i).GetType()==1)
	{
	  defuse = m_hand.at(i);
	}
    }
  return defuse;
}

bool Player::HasPair(int type)
{
  int counter = 0;
  for(int i = 0; i < static_cast<int>(m_hand.size());i++)
    {
      if(m_hand.at(i).GetType() == type)
	{
	  counter +=1;
	}
    }
  if(counter>1)
    return true;
  return false;
}

void Player::SetLost(bool lost)
{
  m_lost = lost;
}

void Player::SetExtraTurn(bool extraTurn)
{
  m_extraTurn = extraTurn;
}
